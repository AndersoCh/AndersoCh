{"nbformat":4,"nbformat_minor":0,"metadata":{"colab":{"name":"Nvidianemo.STTipynb","provenance":[],"authorship_tag":"ABX9TyMwqI466B5uGhr9FRacbbf0"},"kernelspec":{"name":"python3","display_name":"Python 3"},"language_info":{"name":"python"},"widgets":{"application/vnd.jupyter.widget-state+json":{"57e3237388d640d0a5b9045e5db05995":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","state":{"_view_name":"HBoxView","_dom_classes":[],"_model_name":"HBoxModel","_view_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_view_count":null,"_view_module_version":"1.5.0","box_style":"","layout":"IPY_MODEL_696a595935df4a68affec2ae9b717fea","_model_module":"@jupyter-widgets/controls","children":["IPY_MODEL_37ca588417b44f46a82a387999862850","IPY_MODEL_a58ad84d3a5e44f1913d8ac821072186"]}},"696a595935df4a68affec2ae9b717fea":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","state":{"_view_name":"LayoutView","grid_template_rows":null,"right":null,"justify_content":null,"_view_module":"@jupyter-widgets/base","overflow":null,"_model_module_version":"1.2.0","_view_count":null,"flex_flow":null,"width":null,"min_width":null,"border":null,"align_items":null,"bottom":null,"_model_module":"@jupyter-widgets/base","top":null,"grid_column":null,"overflow_y":null,"overflow_x":null,"grid_auto_flow":null,"grid_area":null,"grid_template_columns":null,"flex":null,"_model_name":"LayoutModel","justify_items":null,"grid_row":null,"max_height":null,"align_content":null,"visibility":null,"align_self":null,"height":null,"min_height":null,"padding":null,"grid_auto_rows":null,"grid_gap":null,"max_width":null,"order":null,"_view_module_version":"1.2.0","grid_template_areas":null,"object_position":null,"object_fit":null,"grid_auto_columns":null,"margin":null,"display":null,"left":null}},"37ca588417b44f46a82a387999862850":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","state":{"_view_name":"ProgressView","style":"IPY_MODEL_eb9b43b32c5c4ebc84b8bc3d21cc4723","_dom_classes":[],"description":"Transcribing: 100%","_model_name":"FloatProgressModel","bar_style":"success","max":1,"_view_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","value":1,"_view_count":null,"_view_module_version":"1.5.0","orientation":"horizontal","min":0,"description_tooltip":null,"_model_module":"@jupyter-widgets/controls","layout":"IPY_MODEL_77ab8c326a4a447f96e9c8b415829925"}},"a58ad84d3a5e44f1913d8ac821072186":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","state":{"_view_name":"HTMLView","style":"IPY_MODEL_a5b54c068d39468ead44c9fa64f38222","_dom_classes":[],"description":"","_model_name":"HTMLModel","placeholder":"​","_view_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","value":" 1/1 [00:01&lt;00:00,  1.86s/it]","_view_count":null,"_view_module_version":"1.5.0","description_tooltip":null,"_model_module":"@jupyter-widgets/controls","layout":"IPY_MODEL_1ddd658bae424d3e95564a33c16636ea"}},"eb9b43b32c5c4ebc84b8bc3d21cc4723":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","state":{"_view_name":"StyleView","_model_name":"ProgressStyleModel","description_width":"initial","_view_module":"@jupyter-widgets/base","_model_module_version":"1.5.0","_view_count":null,"_view_module_version":"1.2.0","bar_color":null,"_model_module":"@jupyter-widgets/controls"}},"77ab8c326a4a447f96e9c8b415829925":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","state":{"_view_name":"LayoutView","grid_template_rows":null,"right":null,"justify_content":null,"_view_module":"@jupyter-widgets/base","overflow":null,"_model_module_version":"1.2.0","_view_count":null,"flex_flow":null,"width":null,"min_width":null,"border":null,"align_items":null,"bottom":null,"_model_module":"@jupyter-widgets/base","top":null,"grid_column":null,"overflow_y":null,"overflow_x":null,"grid_auto_flow":null,"grid_area":null,"grid_template_columns":null,"flex":null,"_model_name":"LayoutModel","justify_items":null,"grid_row":null,"max_height":null,"align_content":null,"visibility":null,"align_self":null,"height":null,"min_height":null,"padding":null,"grid_auto_rows":null,"grid_gap":null,"max_width":null,"order":null,"_view_module_version":"1.2.0","grid_template_areas":null,"object_position":null,"object_fit":null,"grid_auto_columns":null,"margin":null,"display":null,"left":null}},"a5b54c068d39468ead44c9fa64f38222":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","state":{"_view_name":"StyleView","_model_name":"DescriptionStyleModel","description_width":"","_view_module":"@jupyter-widgets/base","_model_module_version":"1.5.0","_view_count":null,"_view_module_version":"1.2.0","_model_module":"@jupyter-widgets/controls"}},"1ddd658bae424d3e95564a33c16636ea":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","state":{"_view_name":"LayoutView","grid_template_rows":null,"right":null,"justify_content":null,"_view_module":"@jupyter-widgets/base","overflow":null,"_model_module_version":"1.2.0","_view_count":null,"flex_flow":null,"width":null,"min_width":null,"border":null,"align_items":null,"bottom":null,"_model_module":"@jupyter-widgets/base","top":null,"grid_column":null,"overflow_y":null,"overflow_x":null,"grid_auto_flow":null,"grid_area":null,"grid_template_columns":null,"flex":null,"_model_name":"LayoutModel","justify_items":null,"grid_row":null,"max_height":null,"align_content":null,"visibility":null,"align_self":null,"height":null,"min_height":null,"padding":null,"grid_auto_rows":null,"grid_gap":null,"max_width":null,"order":null,"_view_module_version":"1.2.0","grid_template_areas":null,"object_position":null,"object_fit":null,"grid_auto_columns":null,"margin":null,"display":null,"left":null}}}}},"cells":[{"cell_type":"code","metadata":{"id":"OaSJ4TqjoE4-"},"source":["apt-get update && apt-get install -y libsndfile1 ffmpeg\n","pip install Cython\n","pip install nemo_toolkit['all']"],"execution_count":null,"outputs":[]},{"cell_type":"code","metadata":{"id":"7mRlD7_wc-PI","executionInfo":{"status":"ok","timestamp":1623773853030,"user_tz":300,"elapsed":312,"user":{"displayName":"Anderson Chavarria","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GgcY6RnAFbGfUOW_my-g_R__l5y8NR4Pp_4EwGg6w=s64","userId":"01922123852925865538"}}},"source":["# NeMo's \"core\" package\n","import nemo\n","# NeMo's ASR collection - this collections contains complete ASR models and\n","# building blocks (modules) for ASR\n","import nemo.collections.asr as nemo_asr"],"execution_count":28,"outputs":[]},{"cell_type":"code","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"npUE0YA0dGEZ","executionInfo":{"status":"ok","timestamp":1623773873288,"user_tz":300,"elapsed":8259,"user":{"displayName":"Anderson Chavarria","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GgcY6RnAFbGfUOW_my-g_R__l5y8NR4Pp_4EwGg6w=s64","userId":"01922123852925865538"}},"outputId":"1a0319be-0a4c-4244-b5f8-09b75b1a17f7"},"source":["quartznet = nemo_asr.models.EncDecCTCModel.from_pretrained(model_name=\"stt_es_quartznet15x5\")"],"execution_count":29,"outputs":[{"output_type":"stream","text":["[NeMo I 2021-06-15 16:18:02 cloud:66] Downloading from: https://api.ngc.nvidia.com/v2/models/nvidia/nemo/stt_es_quartznet15x5/versions/1.0.0rc1/files/stt_es_quartznet15x5.nemo to /root/.cache/torch/NeMo/NeMo_1.0.2/stt_es_quartznet15x5/a65f9c865cfd58f57bfba25a7e44e8e2/stt_es_quartznet15x5.nemo\n","[NeMo I 2021-06-15 16:18:08 common:675] Instantiating model from pre-trained checkpoint\n"],"name":"stdout"},{"output_type":"stream","text":["[NeMo W 2021-06-15 16:18:09 modelPT:138] If you intend to do training or fine-tuning, please call the ModelPT.setup_training_data() method and provide a valid configuration file to setup the train data loader.\n","    Train config : \n","    manifest_filepath: /raid/noneval.json\n","    sample_rate: 16000\n","    labels:\n","    - ' '\n","    - a\n","    - b\n","    - c\n","    - d\n","    - e\n","    - f\n","    - g\n","    - h\n","    - i\n","    - j\n","    - k\n","    - l\n","    - m\n","    - 'n'\n","    - o\n","    - p\n","    - q\n","    - r\n","    - s\n","    - t\n","    - u\n","    - v\n","    - w\n","    - x\n","    - 'y'\n","    - z\n","    - ''''\n","    - á\n","    - é\n","    - í\n","    - ó\n","    - ú\n","    - ñ\n","    - ü\n","    batch_size: 16\n","    trim_silence: true\n","    max_duration: 16.7\n","    shuffle: true\n","    is_tarred: false\n","    tarred_audio_filepaths: null\n","    num_workers: 8\n","    pin_memory: true\n","    \n","[NeMo W 2021-06-15 16:18:09 modelPT:145] If you intend to do validation, please call the ModelPT.setup_validation_data() or ModelPT.setup_multiple_validation_data() method and provide a valid configuration file to setup the validation data loader(s). \n","    Validation config : \n","    manifest_filepath: /raid/dev.json\n","    sample_rate: 16000\n","    labels:\n","    - ' '\n","    - a\n","    - b\n","    - c\n","    - d\n","    - e\n","    - f\n","    - g\n","    - h\n","    - i\n","    - j\n","    - k\n","    - l\n","    - m\n","    - 'n'\n","    - o\n","    - p\n","    - q\n","    - r\n","    - s\n","    - t\n","    - u\n","    - v\n","    - w\n","    - x\n","    - 'y'\n","    - z\n","    - ''''\n","    - á\n","    - é\n","    - í\n","    - ó\n","    - ú\n","    - ñ\n","    - ü\n","    batch_size: 32\n","    shuffle: false\n","    num_workers: 8\n","    pin_memory: true\n","    \n"],"name":"stderr"},{"output_type":"stream","text":["[NeMo I 2021-06-15 16:18:09 features:252] PADDING: 16\n","[NeMo I 2021-06-15 16:18:09 features:269] STFT using torch\n","[NeMo I 2021-06-15 16:18:10 modelPT:434] Model EncDecCTCModel was successfully restored from /root/.cache/torch/NeMo/NeMo_1.0.2/stt_es_quartznet15x5/a65f9c865cfd58f57bfba25a7e44e8e2/stt_es_quartznet15x5.nemo.\n"],"name":"stdout"}]},{"cell_type":"code","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":120,"referenced_widgets":["57e3237388d640d0a5b9045e5db05995","696a595935df4a68affec2ae9b717fea","37ca588417b44f46a82a387999862850","a58ad84d3a5e44f1913d8ac821072186","eb9b43b32c5c4ebc84b8bc3d21cc4723","77ab8c326a4a447f96e9c8b415829925","a5b54c068d39468ead44c9fa64f38222","1ddd658bae424d3e95564a33c16636ea"]},"id":"-OoxseprdVfQ","executionInfo":{"status":"ok","timestamp":1623782556750,"user_tz":300,"elapsed":2233,"user":{"displayName":"Anderson Chavarria","photoUrl":"https://lh3.googleusercontent.com/a-/AOh14GgcY6RnAFbGfUOW_my-g_R__l5y8NR4Pp_4EwGg6w=s64","userId":"01922123852925865538"}},"outputId":"0030af99-f756-4ed6-ec6f-163ba8f0aa61"},"source":["files = ['Proteccion5.wav']\n","for fname, transcription in zip(files, quartznet.transcribe(paths2audio_files=files)):\n","  print(f\"El Audio Reconocido en el Archivo {fname} es:\\n {transcription}\")"],"execution_count":41,"outputs":[{"output_type":"display_data","data":{"application/vnd.jupyter.widget-view+json":{"model_id":"57e3237388d640d0a5b9045e5db05995","version_minor":0,"version_major":2},"text/plain":["HBox(children=(FloatProgress(value=0.0, description='Transcribing', max=1.0, style=ProgressStyle(description_w…"]},"metadata":{"tags":[]}},{"output_type":"stream","text":["\n","El Audio Reconocido en el Archivo Proteccion5.wav es:\n"," hola ingresa u comunicarte con protección queremos contarte que nuestro horario y atención el verlunes gaviernes de ucho de la mañana á cinco de laterde estaremos dispuestos en esto nario para atendere hasta pronto\n"],"name":"stdout"}]}]}